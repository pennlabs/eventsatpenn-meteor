<head>
  <title>events@penn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
  {{> topbar }}
  <div class='row' id='container'>
    {{renderPage}}
  </div>
</body>

<template name='topbar'>
  <div class="contain-to-grid">
    <nav class="top-bar">
      <ul class="title-area">
        <li class="name">
          <h1><a class="home" href="/">events@penn</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>menu</span></a></li>
      </ul>
       <section class="top-bar-section">
          <ul class="left">
             <li class="has-form">
          <form class="search">
            <div class="row collapse">
              <div class="small-10 columns">
                <input id="searchbox" type="text" placeholder='Search'>
              </div>
              <div class="small-2 columns">
                <a id="search" href="#" class="alert button"><span class="icon icon-search"></span></a>
              </div>
            </div>
          </form>
        </li>
      </ul>
       </section>
      <section class="top-bar-section">
        <ul class="right">
          <li><a href="/all">All</a></li>
          <li class="divider"></li>
          {{#if currentUser }}
          <li><a href="/new" class="create"><span class="icon icon-plus"></span>Create Event</a></li>
          <li class="has-dropdown"><a class="user" href="/user/{{ currentUser._id }}">{{ currentUser.profile.first_name }}</a>
            <ul class="dropdown">
              <li><a href="#" class="logout">Logout</a><li>
            </ul>
          </li>
          {{else}}
          <li><a href='/login'>Login / Register</a></li>
          {{/if}}
        </ul>
      </section>
    </nav>
  </div>
</template>

<template name="events">
{{#each event_queue}}
{{> event }}
{{else}}
No upcoming events.
{{/each}}
</template>

<template name='all'>
{{#each all_events}}
{{> event }}
{{else}}
No upcoming events.
{{/each}}
</template>

<template name='new'>
  <form class='create-event'>
    <input name='name' type='text' placeholder='Name of Event'>
    <input name='date' type='text' placeholder='Date'>
    <input name='start_time' type='text' placeholder='Start'>
    <input name='end_time' type='text' placeholder='End'>
    <input name='location' type='text' placeholder='Location'>
    <input name='description' type='text' placeholder='Description'>
    <input type='submit' value='Submit'>
  </form>
</template>

<template name='event_info'>
  {{> event info }}
</template>

<template name='event'>
<div class='row'>
  <div class="large-3 columns image">
    <img src="http://placehold.it/240x240&amp;text=img">
  </div>
  <div class="large-9 columns info">
    <h4 class="title"><a class='event' href="/event/{{ _id }}">{{ name }}</a></h4>
    <span class="subtitle">by <a class='creator' href="/user/{{ creator }}">{{ creator_name }}</a></span>

    <div class="detail-row">
      <div class="large-6 columns item">
        <span class="icon icon-calendar"></span>{{ date }}
      </div>
      <div class="large-6 columns item">
        <span class="icon icon-clock"></span>{{ time_start }} to {{ time_end }}
      </div>
      <div class="large-12 columns item">
        <span class="icon icon-location"></span><a href="http://maps.google.com/?q=Kings Court English House"  target="_blank">{{ location }}</a>
      </div>
    </div>
    <p>{{ description }}</p>
  </div>
</div>
</template>

<template name='user'>
{{#with info}}

<div><a class='follow' href='#'>{{ _id }}</a></div>
<div>
  {{#each emails }}
  {{ address }}
  {{/each}}
  {{/with}}
</div>

<div>
  {{#each user_events}}
  {{> event }}
  {{else}}
  This user has not created any events.
  {{/each}}
</div>
</template>

<template name='login'>
<div class="view-login">
  <div class="row">
    <div class="large-4 columns">
      <div class="large-12 prompt">
        <p>already have an account?</p>
      </div>
      <form id="login-form" class="login large-12" method="post" action="login">
        <h3>Login</h3>
        <input name="email" type="text" placeholder="Email" />
        <input name="password" type="password" placeholder="Password" />
        <input class="button" type="submit" id="login-button" value="Login">
      </form>
    </div>
    
    <div class="large-8 columns">
      <div class="large-12 prompt">
        <p>need a new account?</p>
      </div>
      <form id="register-form" class="signup large-12" method="post" action="api/users/">
        <h3>Sign Up</h3>
        <label>Name</label>
        <div class="row">
          <div class="large-6 columns">
            <input name="first_name" type="text" placeholder="First Name" />
          </div>
          <div class="large-6 columns">
            <input name="last_name" type="text" placeholder="Last Name" />
          </div>
        </div>
        <label>UPenn Email</label>
        <input name="email" type="text" placeholder="" />
        <label>Password</label>
        <div class="row">
          <div class="large-6 columns">
            <input name="password" type="password" placeholder="Enter Password" />
          </div>
          <div class="large-6 columns">
            <input name="confirm" type="password" placeholder="Confirm Password" />
          </div>
        </div>
        <label>Description</label>
        <textarea name="description" placeholder=""></textarea>
        
        <input class="button" type="submit" id="register-button" value="Register">
      </form>
    </div>
  </div>
</div>
</template>
