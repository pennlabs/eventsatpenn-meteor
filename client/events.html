<head>
  <title>events@penn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
  {{> topbar }}
  <div class='row' id='container'>
    {{renderPage}}
  </div>
</body>

<template name='topbar'>
  <div class="contain-to-grid">
    <nav class="top-bar">
      <ul class="title-area">
        <li class="name">
          <h1><a class="home" href="/">events@penn</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>menu</span></a></li>
      </ul>
       <section class="top-bar-section">
          <ul class="left">
             <li class="has-form">
          <form class="search">
            <div class="row collapse">
              <div class="small-10 columns">
                <input id="searchbox" type="text" placeholder='Search'>
              </div>
              <div class="small-2 columns">
                <a id="search" href="#" class="alert button"><span class="icon icon-search"></span></a>
              </div>
            </div>
          </form>
        </li>
      </ul>
       </section>
      <section class="top-bar-section">
        <ul class="right">
          <li><a href="/all">All</a></li>
          <li class="divider"></li>
          {{#if currentUser }}
          <li><a href="/new" class="create"><span class="icon icon-plus"></span>Create Event</a></li>
          <li class="has-dropdown"><a class="user" href="/user/{{ currentUser._id }}">CURRENTUSER.NAME</a>
            <ul class="dropdown">
              <li><a href="#" class="logout">Logout</a><li>
            </ul>
          </li>
          {{else}}
          <li class="has-dropdown"><a class='login' href='#'>Login/Register</a>
            <ul class='dropdown'>
              {{#if login}}
              <form class='login-form'>
                <li><a href='#' class='register'>Register</a></li>
                <li><input type='text' name='email' placeholder='Email'></li>
                <li><input type='password' name='password' placeholder='Password'></li>
                <li><input type='submit' value='Login'></li>
              </form>
              {{else}}
              <form class='register-form'>
                <li><a href='#' class='login'>Login</a></li>
                <li><input type='text' name='name' placeholder='Name'></li>
                <li><input type='email' name='email' placeholder='Email'></li>
                <li><input type='password' name='password' placeholder='Password'></li>
                <li><input type='password' name='confirm' placeholder='Confirm Password'></li>
                <li><input type='submit' value='Register'></li>
              </form>
              {{/if}}
            </ul>
          </li>
          {{/if}}
        </ul>
      </section>
    </nav>
  </div>
</template>

<template name="events">
{{#each event_queue}}
{{> event }}
{{else}}
No upcoming events.
{{/each}}
</template>

<template name='all'>
{{#each all_events}}
{{> event }}
{{else}}
No upcoming events.
{{/each}}
</template>

<template name='new'>
  <form class='create-event'>
    <input name='name' type='text' placeholder='Name of Event'>
    <input name='date' type='text' placeholder='Date'>
    <input name='start_time' type='text' placeholder='Start'>
    <input name='end_time' type='text' placeholder='End'>
    <input name='location' type='text' placeholder='Location'>
    <input name='description' type='text' placeholder='Description'>
    <input type='submit' value='Submit'>
  </form>
</template>

<template name='event_info'>
  {{> event info }}
</template>

<template name='event'>
<div>
  <a href='/event/{{ _id }}'>{{ name }}</a>
</div>
</template>

<template name='user'>
{{#with info}}

<div><a class='follow' href='#'>{{ _id }}</a></div>
<div>
  {{#each emails }}
  {{ address }}
  {{/each}}
  {{/with}}
</div>

<div>
  {{#each user_events}}
  {{> event }}
  {{else}}
  This user has not created any events.
  {{/each}}
</div>
</template>
