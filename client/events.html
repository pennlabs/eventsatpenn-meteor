<head>
  <title>events@penn</title>
  <link href="http://fonts.googleapis.com/css?family=Merriweather:400,700" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=News+Cycle:400,700" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
  {{> topbar }}
  <div class='row' id='container'>
    {{renderPage}}
  </div>
</body>

<template name='topbar'>
  <div class="contain-to-grid">
    <nav class="top-bar">
      <ul class="title-area">
        <li class="name">
          <h1><a class="home" href="/">events@penn</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>menu</span></a></li>
      </ul>
       <section class="top-bar-section">
          <ul class="left">
             <li class="has-form">
          <form class="search">
            <div class="row collapse">
              <div class="small-10 columns">
                <input id="searchbox" type="text" placeholder='Search'>
              </div>
              <div class="small-2 columns">
                <a id="search" href="#" class="alert button"><span class="icon icon-search"></span></a>
              </div>
            </div>
          </form>
        </li>
      </ul>
       </section>
      <section class="top-bar-section">
        <ul class="right">
          <li><a href="/all">All</a></li>
          <li class="divider"></li>
          {{#if currentUser }}
          <li><a href="/new" class="create"><span class="icon icon-plus"></span>Create Event</a></li>
          <li class="has-dropdown"><a class="user" href="/user/{{ currentUser._id }}">{{ currentUser.profile.first_name }}</a>
            <ul class="dropdown">
              <li><a href="#" class="logout">Logout</a><li>
            </ul>
          </li>
          {{else}}
          <li><a href='/login'>Login / Register</a></li>
          {{/if}}
        </ul>
      </section>
    </nav>
  </div>
</template>

<template name="events">
{{#each event_queue}}
{{> event }}
{{else}}
No upcoming events.
{{/each}}
</template>

<template name='all'>
{{#each all_events}}
{{> event }}
{{else}}
No upcoming events.
{{/each}}
</template>

<template name='new'>
<div class="view-create">
  <div class="row">
    <div class="large-4 columns">
      <div class="right box large-12 small-12">
        <h3>Create New Event</h3>
        <p>Your event will be publicly available. Please respect the following rules. Any posts that violate these rules will be moderated and removed.</p>
        <ol>
          <li>No obscene pictures or languages.</li>
          <li>Shirts and shoes required.</li>
          <li>Don't be an asshole.</li>
        </ol>
      </div>
    </div>
    <div class="large-8 columns">
      <form id="create-form" class="left box large-12 small-12 create-event" method="post" action="/new">
        <label>Name</label>
        <input name="name" type="text" placeholder="Event Name" />
        <div class="row">
          <div class="large-6 columns">
            <label>Date</label>
            <input name="date" type="text" placeholder="mm/dd/yyyy" />
          </div>
          <div class="large-3 small-6 columns">
            <label>Start Time</label>
            <input name="time_start" type="text" placeholder="hh:mm" />
          </div>
          <div class="large-3 small-6 columns">
            <label>End Time</label>
            <input name="time_end" type="text" placeholder="hh:mm" />
          </div>
        </div>
        <label>Location</label>
        <input name="location" type="text" placeholder="Location" />
        <label>Description</label>
        <textarea name="description" placeholder="Describe your event to make it more easily searchable"></textarea>

        <input class="button" type="submit" id="submit-button" value="Submit">
      </form>
    </div>
  </div>
</div>
</template>

<template name='event_info'>
  {{> event info }}
</template>

<template name='event'>
<div class='row'>
  <div class="large-3 columns image">
    <img src="http://placehold.it/240x240&amp;text=img">
  </div>
  <div class="large-9 columns info">
    <h4 class="title"><a class='event' href="/event/{{ _id }}">{{ name }}</a></h4>
    <span class="subtitle">by <a class='creator' href="/user/{{ creator }}">{{ creator_name }}</a></span>

    <div class="detail-row">
      <div class="large-6 columns item">
        <span class="icon icon-calendar"></span>{{ date }}
      </div>
      <div class="large-6 columns item">
        <span class="icon icon-clock"></span>{{ time_start }} to {{ time_end }}
      </div>
      <div class="large-12 columns item">
        <span class="icon icon-location"></span><a href="http://maps.google.com/?q=Kings Court English House"  target="_blank">{{ location }}</a>
      </div>
    </div>
    <p>{{ description }}</p>
  </div>
</div>
</template>

<template name='user'>
{{#with info}}

<div><a class='follow' href='#'>{{ _id }}</a></div>
<div>
  {{#each emails }}
  {{ address }}
  {{/each}}
  {{/with}}
</div>

<div>
  {{#each user_events}}
  {{> event }}
  {{else}}
  This user has not created any events.
  {{/each}}
</div>
</template>

<template name='login'>
<div class="row view-login">
  <div class="large-4 columns">
    <div class="large-12 prompt">
      <p>already have an account?</p>
    </div>
    <form id="login-form" class="login large-12" method="post" action="login">
      <h3>Login</h3>
      <input name="email" type="text" placeholder="Email" />
      <input name="password" type="password" placeholder="Password" />
      <input class="button" type="submit" id="login-button" value="Login">
    </form>
  </div>
  
  <div class="large-8 columns">
    <div class="large-12 prompt">
      <p>need a new account?</p>
    </div>
    <form id="register-form" class="signup large-12" method="post" action="api/users/">
      <h3>Sign Up</h3>
      <label>Name</label>
      <div class="row">
        <div class="large-6 columns">
          <input name="first_name" type="text" placeholder="First Name" />
        </div>
        <div class="large-6 columns">
          <input name="last_name" type="text" placeholder="Last Name" />
        </div>
      </div>
      <label>UPenn Email</label>
      <input name="email" type="text" placeholder="" />
      <label>Password</label>
      <div class="row">
        <div class="large-6 columns">
          <input name="password" type="password" placeholder="Enter Password" />
        </div>
        <div class="large-6 columns">
          <input name="confirm" type="password" placeholder="Confirm Password" />
        </div>
      </div>
      <label>Description</label>
      <textarea name="description" placeholder=""></textarea>
      
      <input class="button" type="submit" id="register-button" value="Register">
    </form>
  </div>
</div>
</template>
